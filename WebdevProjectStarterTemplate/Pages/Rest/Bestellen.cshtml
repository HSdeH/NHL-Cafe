@page
@model WebdevProjectStarterTemplate.Pages.BestellenModel
@{
}
<h1><b>Bestellen</b></h1>
de geselecteerde tafel is @Model.RTableId

<div class="container">
    <div class="row">
        <div class="col">
            <table class="table table-striped">
                <thead>
                </thead>
                <tbody>
                    @foreach (var category in @Model.CategoriesWithProduct)
                    {
                        <tr>
                            <td onclick="showCategory('@category.Name')">@category.Name</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="col">

            <table class="table table-striped">
                <thead>

                </thead>
                <tbody>
                @foreach (var category in @Model.CategoriesWithProduct)
                {
                    foreach (var product in category.Products)
                    {
                        <tr class="productsview @category.Name">
                            <td >
                            @product.Name 
                            </td>
                            <td>
                                    <button onclick="addRow('@product.Name', '@product.ProductId')">+</button>
                            </td>
                        </tr>
                    }
                }
                </tbody>
            </table>
        </div>
        <div class="col-6">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <td><b>product</b></td>
                        <td><b>amount</b></td>
                    </tr>
                </thead>
                <tbody id="ordertable">

                </tbody>
            </table>
        </div>

    </div>
</div>
<script>

    
    function addRow(product, id){
        var element = document.getElementById(id)
        if (!element) {
        var newRow = document.createElement("tr");
        newRow.id = id;
        newRow.innerHTML = `<td>${product}</td><td><button>-</button>1<button>+</button></td>`;
        document.getElementById("ordertable").appendChild(newRow);
        }
        else {
            increaseAmount(id);
        }
    }
    function hideAllProducts(){
        var elements = document.getElementsByClassName("productsview");
        for (var i = 0; i < elements.length; i++) {
            elements[i].style.display = "none";
        }
    }
    function showCategory(id){
        hideAllProducts();
        var elements = document.getElementsByClassName(id)
        for (var i = 0; i < elements.length; i++) {
            elements[i].style.display = "flex";
        }
    }
    function increaseAmount(id){

    }
    function decreaseAmount(id){

    }
    function deleteOrder(id){

    }
    hideAllProducts();

</script>